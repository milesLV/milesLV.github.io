{"title":"Housing Status Changes While in Substance Abuse Treatment (Senior Capstone)","markdown":{"yaml":{"title":"Housing Status Changes While in Substance Abuse Treatment (Senior Capstone)","author":"Miles Libbey V","image":"icon2.png","categories":["University","R","Python","Tableau"],"format":{"html":{"css":"../../styles.css"}}},"headingText":"Project Overview","containsRefs":false,"markdown":"\n\n\nThis project examines how individuals completing substance abuse treatment change—or fail to change—their housing status between admission and discharge. Using the national TEDS-D 2021 dataset, I focus on two groups: those unhoused at admission and those in independent living. The central question was: **What distinguishes people whose housing status changes from those whose does not?**\n\nI compared individuals who remained unhoused with those who transitioned into independent living, and also noting the small subset who became unhoused after living independently. Analyses were performed in R, with Python used for modeling (CatBoost, SHAP) and Tableau for visualization.\n\n# Background & Motivation\n\nThis project was completed as part of the *Projects in Data Science* capstone course as part of a group of 3. Each of us selected a quality of life predictor (housing, employment, and substance use frequency) and investigated how each changed under the guidance of 2 experts with experience in working with substance abuse or similar issues.\n\nIdentifying characteristics linked to positive housing transitions can guide policymakers and providers toward interventions that promote stability. For example, while “chronically homeless” (the term for people unhoused 1> year(s) and have substance issues) pessimistically implies permanence, the exploratory plot below shows nearly <a href=\"#change-diagram\" style=\"text-decoration:none\">*</a>40% of unhoused individuals in the dataset transitioned to housing (HUD, 2015). Why do some change while others remain the same? This project addresses that question for both groups.\n\n<figure id=\"change-diagram\" style=\"text-align: center;\">\n  <img src=\"images/changeDiagram.png\" \n       alt=\"How clients' housing changes from admission to a substance abuse treatment facility (top) to when they are discharged (bottom).\" \n       width=\"750\" />\n  <figcaption>\n    How clients' housing changes from Admission (top) to Discharge (bottom)\n  </figcaption>\n</figure>\n\n# Substance Abuse Facility Treatment Data\n\n-   **Source:** TEDS‑D 2021 (SAMHSA)\n-   **Scope:** \\~370,000 anonymized client records, 76 variables (broadly can be categorized as demographic, treatment related (what services the clients received), and non-treatment related (answers that might come up in an intake form or police database -- diagnoses, prior treatment, age of first substance use, etc.))\n-   **Inclusion criteria:** Age 12+, completed treatment episode, public facilities only, all states excluding Delaware, Idaho, and Oregon\n\n# Classification + Dimension Reduction Tools (Methodology)\n\nTo analyze, I used 2 complementary tools:\n\n-   **Classification (CatBoost)** — Supervised learning to classify whether a person *changed* versus *remained* in housing status between admission and discharge.\n\n-   **Dimensional Reduction (MCA)** — Dimensional reduction to summarize multivariate categorical structure and highlight which categorical levels pull observations toward changing or remaining.\n\nBecause unhoused and housed individuals differ significantly, 2 separate models were trained for clearer insights.\n\n# Visual Results and Interpretations\n\n## CatBoost Models\n\nCatBoost is a gradient boosting model (like LightGM and XGBoost) that has a special CatBoost target encoding that makes it shine above the others for this project. Its unique target encoding allows for more effective and efficient predictions with categorical data, which is the datatype of 97% of the columns.\n\n::::: panel-tabset\n\n### Unhoused Model\n\n::: {.callout-note icon=\"false\" collapse=\"true\"}\n#### CatBoost Unhoused Model Scaffolding\n\n#### Code:\n\n``` python\nteds_Unhoused = teds[teds[\"LIVARAG\"] == 1] # just people who start as unhoused\nteds_Unhoused = teds_Unhoused.drop(columns = \"LIVARAG\")\n\nX = teds_Unhoused.drop(columns=[\"LIVARAG_delta\"]) \nX = X.astype(str)\ny = teds_Unhoused[\"LIVARAG_delta\"] \n\ntrain_pool = Pool(X, label=y, cat_features=X.columns.tolist())\n\nmodelUnhoused = CatBoostClassifier(iterations=700, # after a lot of hyper-parameter tuning, \n                           depth=8,                  these were the best\n                           learning_rate=0.2, \n                           loss_function='Logloss', \n                           eval_metric='AUC', \n                           verbose=70)\n\nmodelUnhoused.fit(train_pool)\n```\n\n#### Metrics:\n\n![Feature importance results show that state-level variation is the strongest predictor of remaining unhoused, followed by frequency of substance use, length of stay, and treatment type. These findings highlight the combined influence of structural factors and individual behaviors on housing outcomes.](images/catBoostUnhousedMeasures.png){fig-align=\"center\"}\n\n#### Confusion Matrix:\n\n![](images/matrixUnhoused.png){fig-align=\"center\" width=\"420\"}\n:::\n\n#### Results (Click image for feature importance insights)\n\n::: {style=\"text-align: center;\"}\n<figure>\n\n  <img src=\"images/featureImportanceUnhoused.png\" alt=\"Image A\" id=\"pair1\" style=\"cursor:pointer;\" width=\"600\"/>\n\n  <figcaption id=\"pair1-caption\"> </figcaption>\n\n</figure>\n:::\n\n### Independent Living Model\n\n::: {.callout-note icon=\"false\" collapse=\"true\"}\n## CatBoost Independent Living Model Scaffolding\n\n#### Code:\n\n``` python\nteds_Independent = teds[teds[\"LIVARAG\"] == 3] # just people who came in as living independently\nteds_Independent = teds_Independent.drop(columns = \"LIVARAG\")\n\nX2 = teds_Independent.drop(columns=[\"LIVARAG_delta\"]) # predictors\nX2 = X2.astype(str)\ny2 = teds_Independent[\"LIVARAG_delta\"]\n\nRUS = RandomUnderSampler(sampling_strategy=0.1, random_state=8675309) \nX2, y2 = RUS.fit_resample(X2, y2) # generating a few cases for minority class\n\ntrain_pool2 = Pool(X2, label=y2, cat_features=X2.columns.tolist())\n\nmodelIndependent = CatBoostClassifier(iterations=600, \n                            depth=6, \n                            learning_rate=0.2, \n                            loss_function='Logloss', \n                            eval_metric='AUC',\n                            verbose=60)\n\nmodelIndependent.fit(train_pool2)\n```\n\n#### Metrics:\n\n![](images/catBoostIndependent.png){fig-align=\"center\"}\n\n#### Confusion Matrix:\n\n![](images/matrixIndependent.png){fig-align=\"center\" width=\"420\"}\n\n:::\n\n#### Results (Click image for feature importance insights)\n\n::: {style=\"text-align: center;\"}\n<figure>\n\n  <img src=\"images/featureImportanceIndependent.png\" id=\"pair2\" style=\"cursor:pointer;\" width=\"600\"/>\n\n  <figcaption id=\"pair2-caption\"> </figcaption>\n\n</figure>\n:::\n\n:::::\n\n::::: columns\n::: column\n<figure>\n\n  <img src=\"images/meanPredictedProbClusters.png\" id=\"pair3\" style=\"cursor:pointer;\" width=\"400\"/>\n\n  <figcaption>{Click image to see breakdown by housing at admission}<br> The predicted probabilities from both Averaged CatBoost predictions by state: Southeast and South-Central states show low transition rates into housing but high retention once independent. The Midwest shows the reverse. Montana and West Virginia are notable outliers.</figcaption>\n\n</figure>\n:::\n\n::: column\n### Prediction Takeaways\n\n- [**Change is predictable**]{style=\"text-decoration: underline;\"} – CatBoost models strongly predict housing change, linking client and treatment attributes to short-term outcomes.  \n- **State matters most** – State of treatment dominates importance rankings, likely reflecting policies, housing availability, funding, and reporting practices.  \n- **Employment matters** – Employment at admission and discharge is critical for housing outcomes.  \n- **Substance use frequency** – Frequency of use in the week before discharge is highly predictive.  \n:::\n:::::\n\n## The Importance of State and Drugs (Multiple Correspondence Analysis)\n\nMultiple Correspondence Analysis (MCA) is a statistical technique used to analyze and visualize relationships within categorical data. By reducing data with many features / dimensions into a lower-dimensional space, MCA helps identify patterns, associations, and underlying structures that might not be immediately obvious. It’s particularly useful for revealing granular relationships between the specific levels of categorical variables.\n\n::: panel-tabset\n### Unhoused Model\n\n![](images/biplotUnhousedIndependent.png){fig-align=\"center\" width=\"700\"}\n\nEvidently, certain states and treatment duration strongly influence housing outcomes. What's more, alcohol intoxication and substance-induced disorders are associated with remaining unhoused.\n\n### Independent Model\n\n![](images/biplotIndependentUnhoused.png){fig-align=\"center\" width=\"700\"}\n\nDrug type significantly influences likelihood of independent living at discharge. Individuals with cannabis or alcohol-related disorders tend to have more favorable outcomes than those with harder substances such as cocaine or barbiturates (Substance Abuse / Chemical Dependency, 2024).\n:::\n\n### Consistent Trends Across Groups\n\n-   **State influence is dominant** – Strong associations in both supporting and opposing stability.\n\n-   **Effective treatment** – Longer stays, residential programs, and self-help participation improve outcomes.\n\n-   **Age minimal** – Except ages 18–20, age has little effect.\n\n-   **Psychiatric disorders negligible** – Only substance use disorders impact housing.\n\n-   **Certain substances harmful** – Some drugs, especially among initially housed individuals, increase risk.\n\n# Who Were the People Not Included?\n\n-   The TEDS‑D only includes episodes that completed treatment — dropouts and transfers are excluded\n-   Not all public facilities are present, and private/non‑funded services are absent\n-   Certain states have different policies for who is recorded or not\n\n# How Can States Use this Analysis?\n\n1.  Strengthen post‑treatment housing connections and state‑level funding pathways in states with lower change rates\n2.  Invest in programs that extend effective treatment length and support self‑help or peer support engagement toward discharge\n3.  Integrate employment services into discharge planning as a route toward stable housing\n\n# There is Much More that Can be Done\n\n-   Link TEDS to longitudinal housing records (if possible) for long‑term outcomes\n-   Test moderation/interaction models: does state moderate the effect of treatment type or length of stay?\n-   Build a lightweight web tool for case managers: input client profile → predicted probability and top recommended interventions (e.g., residential, self‑help referral, employment services)\n\n# Skills \n\nThis project demonstrates my ability to: - Clean and structure large-scale categorical datasets for analysis - Build and interpret machine learning classification models (CatBoost) - Apply dimensionality reduction techniques (MCA) to uncover patterns - Translate statistical results into actionable insights in a social impact domain - Communicate technical findings effectively to both technical and non-technical audiences\n\n> **Skills Demonstrated:** R **·** Python **·**  Tableau **·** Data Wrangling **·** Machine Learning (CatBoost) **·** SHAP Interpretation **·** Dimensionality Reduction (MCA) **·** Data Visualization **·** Statistical Analysis **·** Research Communication\n\n# Special Thanks\n\nThank you to Hien-Anh (Avianna) Bui (Team Member), Ethan Caldecott (Team Member), Dr. Jaine Strauss (Expert; Psychology Professor), and Ellie Skelton (Expert; Touchstone Mental Health Executive Director) for their commitment, guidance, and domain expertise.\n\n# References\n\nBrubaker, M. D., Amatea, E. A., Torres-Rivera, E., Miller, M. D., & Nabors, L. (2013). Barriers and Supports to Substance Abuse Service Use Among Homeless Adults. Journal of Addictions & Offender Counseling, 34(2), 81–98. <https://doi.org/10.1002/j.2161-1874.2013.00017.x>\n\nLundberg, S. (2018). An introduction to explainable AI with Shapley values — SHAP latest documentation. Read the Docs. <https://shap.readthedocs.io/en/latest/example_notebooks/overviews/An%20introduction%20to%20explainable%20AI%20with%20Shapley%20values.html>\n\nNicholls, M. J., & Urada, L. A. (2021). Homelessness and polysubstance use: A qualitative study on recovery and treatment access solutions around an urban library in Southern California, USA. Health & Social Care in the Community, 30(1). <https://doi.org/10.1111/hsc.13424>\n\nSubstance Abuse / Chemical Dependency. (2024). John Hopkins Medicine. <https://www.hopkinsmedicine.org/health/conditions-and-diseases/substance-abuse-chemical-dependency>\n\nSubstance Abuse and Mental Health Services Administration. (2023). Treatment Episode Data Set Discharges (TEDS-D) 2021: Public Use File (PUF) Codebook. Rockville, MD: Center for Behavioral Health Statistics and Quality, Substance Abuse and Mental Health Services Administration. Retrieved from <https://www.samhsa.gov/data/>.\n\nUS Department of Housing and Urban Development. (2015). Definition of Chronic Homelessness. HUD Exchange. <https://www.hudexchange.info/homelessness-assistance/coc-esg-virtual-binders/coc-esg-homeless-eligibility/definition-of-chronic-homelessness/>\n\n------------------------------------------------------------------------\n\n```{=html}\n<script>\n  const swaps = [\n    {\n      id: \"pair1\",\n      img1: \"images/featureImportanceUnhoused.png\",\n      caption1: \"Feature importance plot: shows the relative weight of predictors used in the model for unhoused outcomes.\",\n      img2: \"images/SHAPUnhousedPlot.png\",\n      caption1: \"Feature importance results show that state-level variation is the strongest predictor of remaining unhoused, followed by frequency of substance use, length of stay, and treatment type. These findings highlight the combined influence of structural factors and individual behaviors on housing outcomes.\",\n      caption2: \"SHAP values highlight how each feature affects a model’s prediction, helping to explain its decision (Lundberg, 2018). For unhoused individuals at admission, factors like state of residence, substance use near discharge, and treatment duration are linked to a higher likelihood of securing housing. Participation in self-help groups, psychological diagnoses, and employment status at admission and discharge also contribute to housing stability. In contrast, treatment length, education, treatment type, and age are associated with a higher risk of remaining unhoused.\"\n    },\n    {\n      id: \"pair2\",\n      img1: \"images/featureImportanceIndependent.png\",\n      caption1: \"Feature importance results show that state-level variation and treatment type are the strongest predictors of independent housing outcomes, followed by individual characteristics such as employment, length of stay, and substance use patterns. This emphasizes how both structural context and personal circumstances shape housing trajectories.\",\n      img2: \"images/SHAPIndependentPlot.png\",\n      caption2: \"SHAP values highlight how each feature affects a model’s prediction, helping to explain its decision (Lundberg, 2018). Substance use at discharge and psychiatric diagnoses are strongly linked to the likelihood of becoming unhoused. Employment status, prior arrests, length of stay, and marital status also show notable but weaker associations. Conversely, factors like state of residence, treatment-related variables, and certain demographics are linked to greater housing stability, though with a smaller impact.\"\n    },\n    {\n      id: \"pair3\",\n      img1: \"images/meanPredictedProbClusters.png\",\n      caption1: \"Mean predicted probabilities by cluster.\",\n      img2: \"images/meanPredictedProb.png\",\n      caption2: \"Mean predicted probabilities overall.\"\n    }\n  ];\n\n  swaps.forEach(swap => {\n    const img = document.getElementById(swap.id);\n    const caption = document.getElementById(swap.id + \"-caption\");\n\n    // initialize with img1 + caption1\n    if (img && caption) {\n      img.src = swap.img1;\n      caption.textContent = swap.caption1 || \"\";\n    }\n\n    img.addEventListener(\"click\", () => {\n      if (img.src.includes(swap.img1)) {\n        img.src = swap.img2;\n        if (caption) caption.textContent = swap.caption2 || \"\";\n      } else {\n        img.src = swap.img1;\n        if (caption) caption.textContent = swap.caption1 || \"\";\n      }\n    });\n  });\n</script>\n```\n","srcMarkdownNoYaml":"\n\n# Project Overview\n\nThis project examines how individuals completing substance abuse treatment change—or fail to change—their housing status between admission and discharge. Using the national TEDS-D 2021 dataset, I focus on two groups: those unhoused at admission and those in independent living. The central question was: **What distinguishes people whose housing status changes from those whose does not?**\n\nI compared individuals who remained unhoused with those who transitioned into independent living, and also noting the small subset who became unhoused after living independently. Analyses were performed in R, with Python used for modeling (CatBoost, SHAP) and Tableau for visualization.\n\n# Background & Motivation\n\nThis project was completed as part of the *Projects in Data Science* capstone course as part of a group of 3. Each of us selected a quality of life predictor (housing, employment, and substance use frequency) and investigated how each changed under the guidance of 2 experts with experience in working with substance abuse or similar issues.\n\nIdentifying characteristics linked to positive housing transitions can guide policymakers and providers toward interventions that promote stability. For example, while “chronically homeless” (the term for people unhoused 1> year(s) and have substance issues) pessimistically implies permanence, the exploratory plot below shows nearly <a href=\"#change-diagram\" style=\"text-decoration:none\">*</a>40% of unhoused individuals in the dataset transitioned to housing (HUD, 2015). Why do some change while others remain the same? This project addresses that question for both groups.\n\n<figure id=\"change-diagram\" style=\"text-align: center;\">\n  <img src=\"images/changeDiagram.png\" \n       alt=\"How clients' housing changes from admission to a substance abuse treatment facility (top) to when they are discharged (bottom).\" \n       width=\"750\" />\n  <figcaption>\n    How clients' housing changes from Admission (top) to Discharge (bottom)\n  </figcaption>\n</figure>\n\n# Substance Abuse Facility Treatment Data\n\n-   **Source:** TEDS‑D 2021 (SAMHSA)\n-   **Scope:** \\~370,000 anonymized client records, 76 variables (broadly can be categorized as demographic, treatment related (what services the clients received), and non-treatment related (answers that might come up in an intake form or police database -- diagnoses, prior treatment, age of first substance use, etc.))\n-   **Inclusion criteria:** Age 12+, completed treatment episode, public facilities only, all states excluding Delaware, Idaho, and Oregon\n\n# Classification + Dimension Reduction Tools (Methodology)\n\nTo analyze, I used 2 complementary tools:\n\n-   **Classification (CatBoost)** — Supervised learning to classify whether a person *changed* versus *remained* in housing status between admission and discharge.\n\n-   **Dimensional Reduction (MCA)** — Dimensional reduction to summarize multivariate categorical structure and highlight which categorical levels pull observations toward changing or remaining.\n\nBecause unhoused and housed individuals differ significantly, 2 separate models were trained for clearer insights.\n\n# Visual Results and Interpretations\n\n## CatBoost Models\n\nCatBoost is a gradient boosting model (like LightGM and XGBoost) that has a special CatBoost target encoding that makes it shine above the others for this project. Its unique target encoding allows for more effective and efficient predictions with categorical data, which is the datatype of 97% of the columns.\n\n::::: panel-tabset\n\n### Unhoused Model\n\n::: {.callout-note icon=\"false\" collapse=\"true\"}\n#### CatBoost Unhoused Model Scaffolding\n\n#### Code:\n\n``` python\nteds_Unhoused = teds[teds[\"LIVARAG\"] == 1] # just people who start as unhoused\nteds_Unhoused = teds_Unhoused.drop(columns = \"LIVARAG\")\n\nX = teds_Unhoused.drop(columns=[\"LIVARAG_delta\"]) \nX = X.astype(str)\ny = teds_Unhoused[\"LIVARAG_delta\"] \n\ntrain_pool = Pool(X, label=y, cat_features=X.columns.tolist())\n\nmodelUnhoused = CatBoostClassifier(iterations=700, # after a lot of hyper-parameter tuning, \n                           depth=8,                  these were the best\n                           learning_rate=0.2, \n                           loss_function='Logloss', \n                           eval_metric='AUC', \n                           verbose=70)\n\nmodelUnhoused.fit(train_pool)\n```\n\n#### Metrics:\n\n![Feature importance results show that state-level variation is the strongest predictor of remaining unhoused, followed by frequency of substance use, length of stay, and treatment type. These findings highlight the combined influence of structural factors and individual behaviors on housing outcomes.](images/catBoostUnhousedMeasures.png){fig-align=\"center\"}\n\n#### Confusion Matrix:\n\n![](images/matrixUnhoused.png){fig-align=\"center\" width=\"420\"}\n:::\n\n#### Results (Click image for feature importance insights)\n\n::: {style=\"text-align: center;\"}\n<figure>\n\n  <img src=\"images/featureImportanceUnhoused.png\" alt=\"Image A\" id=\"pair1\" style=\"cursor:pointer;\" width=\"600\"/>\n\n  <figcaption id=\"pair1-caption\"> </figcaption>\n\n</figure>\n:::\n\n### Independent Living Model\n\n::: {.callout-note icon=\"false\" collapse=\"true\"}\n## CatBoost Independent Living Model Scaffolding\n\n#### Code:\n\n``` python\nteds_Independent = teds[teds[\"LIVARAG\"] == 3] # just people who came in as living independently\nteds_Independent = teds_Independent.drop(columns = \"LIVARAG\")\n\nX2 = teds_Independent.drop(columns=[\"LIVARAG_delta\"]) # predictors\nX2 = X2.astype(str)\ny2 = teds_Independent[\"LIVARAG_delta\"]\n\nRUS = RandomUnderSampler(sampling_strategy=0.1, random_state=8675309) \nX2, y2 = RUS.fit_resample(X2, y2) # generating a few cases for minority class\n\ntrain_pool2 = Pool(X2, label=y2, cat_features=X2.columns.tolist())\n\nmodelIndependent = CatBoostClassifier(iterations=600, \n                            depth=6, \n                            learning_rate=0.2, \n                            loss_function='Logloss', \n                            eval_metric='AUC',\n                            verbose=60)\n\nmodelIndependent.fit(train_pool2)\n```\n\n#### Metrics:\n\n![](images/catBoostIndependent.png){fig-align=\"center\"}\n\n#### Confusion Matrix:\n\n![](images/matrixIndependent.png){fig-align=\"center\" width=\"420\"}\n\n:::\n\n#### Results (Click image for feature importance insights)\n\n::: {style=\"text-align: center;\"}\n<figure>\n\n  <img src=\"images/featureImportanceIndependent.png\" id=\"pair2\" style=\"cursor:pointer;\" width=\"600\"/>\n\n  <figcaption id=\"pair2-caption\"> </figcaption>\n\n</figure>\n:::\n\n:::::\n\n::::: columns\n::: column\n<figure>\n\n  <img src=\"images/meanPredictedProbClusters.png\" id=\"pair3\" style=\"cursor:pointer;\" width=\"400\"/>\n\n  <figcaption>{Click image to see breakdown by housing at admission}<br> The predicted probabilities from both Averaged CatBoost predictions by state: Southeast and South-Central states show low transition rates into housing but high retention once independent. The Midwest shows the reverse. Montana and West Virginia are notable outliers.</figcaption>\n\n</figure>\n:::\n\n::: column\n### Prediction Takeaways\n\n- [**Change is predictable**]{style=\"text-decoration: underline;\"} – CatBoost models strongly predict housing change, linking client and treatment attributes to short-term outcomes.  \n- **State matters most** – State of treatment dominates importance rankings, likely reflecting policies, housing availability, funding, and reporting practices.  \n- **Employment matters** – Employment at admission and discharge is critical for housing outcomes.  \n- **Substance use frequency** – Frequency of use in the week before discharge is highly predictive.  \n:::\n:::::\n\n## The Importance of State and Drugs (Multiple Correspondence Analysis)\n\nMultiple Correspondence Analysis (MCA) is a statistical technique used to analyze and visualize relationships within categorical data. By reducing data with many features / dimensions into a lower-dimensional space, MCA helps identify patterns, associations, and underlying structures that might not be immediately obvious. It’s particularly useful for revealing granular relationships between the specific levels of categorical variables.\n\n::: panel-tabset\n### Unhoused Model\n\n![](images/biplotUnhousedIndependent.png){fig-align=\"center\" width=\"700\"}\n\nEvidently, certain states and treatment duration strongly influence housing outcomes. What's more, alcohol intoxication and substance-induced disorders are associated with remaining unhoused.\n\n### Independent Model\n\n![](images/biplotIndependentUnhoused.png){fig-align=\"center\" width=\"700\"}\n\nDrug type significantly influences likelihood of independent living at discharge. Individuals with cannabis or alcohol-related disorders tend to have more favorable outcomes than those with harder substances such as cocaine or barbiturates (Substance Abuse / Chemical Dependency, 2024).\n:::\n\n### Consistent Trends Across Groups\n\n-   **State influence is dominant** – Strong associations in both supporting and opposing stability.\n\n-   **Effective treatment** – Longer stays, residential programs, and self-help participation improve outcomes.\n\n-   **Age minimal** – Except ages 18–20, age has little effect.\n\n-   **Psychiatric disorders negligible** – Only substance use disorders impact housing.\n\n-   **Certain substances harmful** – Some drugs, especially among initially housed individuals, increase risk.\n\n# Who Were the People Not Included?\n\n-   The TEDS‑D only includes episodes that completed treatment — dropouts and transfers are excluded\n-   Not all public facilities are present, and private/non‑funded services are absent\n-   Certain states have different policies for who is recorded or not\n\n# How Can States Use this Analysis?\n\n1.  Strengthen post‑treatment housing connections and state‑level funding pathways in states with lower change rates\n2.  Invest in programs that extend effective treatment length and support self‑help or peer support engagement toward discharge\n3.  Integrate employment services into discharge planning as a route toward stable housing\n\n# There is Much More that Can be Done\n\n-   Link TEDS to longitudinal housing records (if possible) for long‑term outcomes\n-   Test moderation/interaction models: does state moderate the effect of treatment type or length of stay?\n-   Build a lightweight web tool for case managers: input client profile → predicted probability and top recommended interventions (e.g., residential, self‑help referral, employment services)\n\n# Skills \n\nThis project demonstrates my ability to: - Clean and structure large-scale categorical datasets for analysis - Build and interpret machine learning classification models (CatBoost) - Apply dimensionality reduction techniques (MCA) to uncover patterns - Translate statistical results into actionable insights in a social impact domain - Communicate technical findings effectively to both technical and non-technical audiences\n\n> **Skills Demonstrated:** R **·** Python **·**  Tableau **·** Data Wrangling **·** Machine Learning (CatBoost) **·** SHAP Interpretation **·** Dimensionality Reduction (MCA) **·** Data Visualization **·** Statistical Analysis **·** Research Communication\n\n# Special Thanks\n\nThank you to Hien-Anh (Avianna) Bui (Team Member), Ethan Caldecott (Team Member), Dr. Jaine Strauss (Expert; Psychology Professor), and Ellie Skelton (Expert; Touchstone Mental Health Executive Director) for their commitment, guidance, and domain expertise.\n\n# References\n\nBrubaker, M. D., Amatea, E. A., Torres-Rivera, E., Miller, M. D., & Nabors, L. (2013). Barriers and Supports to Substance Abuse Service Use Among Homeless Adults. Journal of Addictions & Offender Counseling, 34(2), 81–98. <https://doi.org/10.1002/j.2161-1874.2013.00017.x>\n\nLundberg, S. (2018). An introduction to explainable AI with Shapley values — SHAP latest documentation. Read the Docs. <https://shap.readthedocs.io/en/latest/example_notebooks/overviews/An%20introduction%20to%20explainable%20AI%20with%20Shapley%20values.html>\n\nNicholls, M. J., & Urada, L. A. (2021). Homelessness and polysubstance use: A qualitative study on recovery and treatment access solutions around an urban library in Southern California, USA. Health & Social Care in the Community, 30(1). <https://doi.org/10.1111/hsc.13424>\n\nSubstance Abuse / Chemical Dependency. (2024). John Hopkins Medicine. <https://www.hopkinsmedicine.org/health/conditions-and-diseases/substance-abuse-chemical-dependency>\n\nSubstance Abuse and Mental Health Services Administration. (2023). Treatment Episode Data Set Discharges (TEDS-D) 2021: Public Use File (PUF) Codebook. Rockville, MD: Center for Behavioral Health Statistics and Quality, Substance Abuse and Mental Health Services Administration. Retrieved from <https://www.samhsa.gov/data/>.\n\nUS Department of Housing and Urban Development. (2015). Definition of Chronic Homelessness. HUD Exchange. <https://www.hudexchange.info/homelessness-assistance/coc-esg-virtual-binders/coc-esg-homeless-eligibility/definition-of-chronic-homelessness/>\n\n------------------------------------------------------------------------\n\n```{=html}\n<script>\n  const swaps = [\n    {\n      id: \"pair1\",\n      img1: \"images/featureImportanceUnhoused.png\",\n      caption1: \"Feature importance plot: shows the relative weight of predictors used in the model for unhoused outcomes.\",\n      img2: \"images/SHAPUnhousedPlot.png\",\n      caption1: \"Feature importance results show that state-level variation is the strongest predictor of remaining unhoused, followed by frequency of substance use, length of stay, and treatment type. These findings highlight the combined influence of structural factors and individual behaviors on housing outcomes.\",\n      caption2: \"SHAP values highlight how each feature affects a model’s prediction, helping to explain its decision (Lundberg, 2018). For unhoused individuals at admission, factors like state of residence, substance use near discharge, and treatment duration are linked to a higher likelihood of securing housing. Participation in self-help groups, psychological diagnoses, and employment status at admission and discharge also contribute to housing stability. In contrast, treatment length, education, treatment type, and age are associated with a higher risk of remaining unhoused.\"\n    },\n    {\n      id: \"pair2\",\n      img1: \"images/featureImportanceIndependent.png\",\n      caption1: \"Feature importance results show that state-level variation and treatment type are the strongest predictors of independent housing outcomes, followed by individual characteristics such as employment, length of stay, and substance use patterns. This emphasizes how both structural context and personal circumstances shape housing trajectories.\",\n      img2: \"images/SHAPIndependentPlot.png\",\n      caption2: \"SHAP values highlight how each feature affects a model’s prediction, helping to explain its decision (Lundberg, 2018). Substance use at discharge and psychiatric diagnoses are strongly linked to the likelihood of becoming unhoused. Employment status, prior arrests, length of stay, and marital status also show notable but weaker associations. Conversely, factors like state of residence, treatment-related variables, and certain demographics are linked to greater housing stability, though with a smaller impact.\"\n    },\n    {\n      id: \"pair3\",\n      img1: \"images/meanPredictedProbClusters.png\",\n      caption1: \"Mean predicted probabilities by cluster.\",\n      img2: \"images/meanPredictedProb.png\",\n      caption2: \"Mean predicted probabilities overall.\"\n    }\n  ];\n\n  swaps.forEach(swap => {\n    const img = document.getElementById(swap.id);\n    const caption = document.getElementById(swap.id + \"-caption\");\n\n    // initialize with img1 + caption1\n    if (img && caption) {\n      img.src = swap.img1;\n      caption.textContent = swap.caption1 || \"\";\n    }\n\n    img.addEventListener(\"click\", () => {\n      if (img.src.includes(swap.img1)) {\n        img.src = swap.img2;\n        if (caption) caption.textContent = swap.caption2 || \"\";\n      } else {\n        img.src = swap.img1;\n        if (caption) caption.textContent = swap.caption1 || \"\";\n      }\n    });\n  });\n</script>\n```\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":true,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":true,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.32","resources":["../../Miles_LibbeyV_Resume_2025.pdf"],"editor":"source","theme":"lumen","page-layout":"article","grid":{"body-width":"1000px","margin-width":"300px","sidebar-width":"550px","gutter-width":"1.5em"},"page-footer":{"left":"&copy; Miles Libbey V, 2025<br>\nAll content licensed under <i class='bi-badge-cc'></i>\n[(CC BY-NC-SA 4.0)](http://creativecommons.org/licenses/by-nc-sa/4.0/)\n","right":"Site built with <a href='https://quarto.org/'>Quarto</a>\n"},"title":"Housing Status Changes While in Substance Abuse Treatment (Senior Capstone)","author":"Miles Libbey V","image":"icon2.png","categories":["University","R","Python","Tableau"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}